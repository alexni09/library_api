name: Payment
description: ''
endpoints:
  -
    httpMethods:
      - GET
    uri: api/all-payments-total
    metadata:
      groupName: Payment
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'User receives a sum of all payments'
      description: ''
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"data":{"all_payments_total":56789}}'
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer che3Ea54fD6vZg6b1VdakP8'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/balance-due-open
    metadata:
      groupName: Payment
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'User receives a sum of all open payments'
      description: ''
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"data":{"all_payments_total":12345}}'
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer bhv4ke5caVDagf1P6638EdZ'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/balance-due-unpaid
    metadata:
      groupName: Payment
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'User receives a sum of all unpaid payments'
      description: ''
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"data":{"all_payments_total":7891}}'
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer fgkav8cdVP4e6hba5Z631DE'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/list-all-payments
    metadata:
      groupName: Payment
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'User lists all payments'
      description: ''
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"data":[{"id":1,"exemplar_id":7,"due_value":900,"due_from":"2023-09-23 00:07:00","due_at":"2023-09-23 00:08:00","paid_at":"2023-09-23 00:24:55"},{"id":2,"exemplar_id":6,"due_value":2170,"due_from":"2023-09-23 00:06:51","due_at":"2023-09-23 00:10:01","paid_at":null}]}'
        headers: []
        description: ''
        custom: []
      -
        status: 204
        content: ''
        headers: []
        description: 'No records found.'
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer Z5E68VedvDg6haf3ka4P1bc'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/list-balance-due-unpaid
    metadata:
      groupName: Payment
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'User lists unpaid payments'
      description: ''
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"data":[{"id":1,"exemplar_id":7,"due_value":900,"due_from":"2023-09-23 00:07:00","due_at":"2023-09-23 00:08:00","paid_at":null},{"id":2,"exemplar_id":6,"due_value":2170,"due_from":"2023-09-23 00:06:51","due_at":"2023-09-23 00:10:01","paid_at":null}]}'
        headers: []
        description: ''
        custom: []
      -
        status: 204
        content: ''
        headers: []
        description: 'No records found.'
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer c36Zefv51Da6aVkEb84gdPh'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/list-balance-due-open
    metadata:
      groupName: Payment
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'User lists open payments'
      description: ''
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"data":[{"id":2,"exemplar_id":6,"due_value":2170,"due_from":"2023-09-23 00:06:51","due_at":"2023-09-23 00:10:01","paid_at":null},{"id":1,"exemplar_id":7,"due_value":900,"due_from":"2023-09-23 00:07:00","due_at":"2023-09-23 00:08:00","paid_at":null}]}'
        headers: []
        description: ''
        custom: []
      -
        status: 204
        content: ''
        headers: []
        description: 'No records found.'
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer dkvVcE5ZefD863b6Pahg14a'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - PATCH
    uri: 'api/pay/{payment_id}'
    metadata:
      groupName: Payment
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'User pays for borrowing an exemplar'
      description: ''
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      payment_id:
        name: payment_id
        description: 'The ID of the payment.'
        required: true
        example: 9
        type: integer
        enumValues: []
        custom: []
    cleanUrlParameters:
      payment_id: 9
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      money:
        name: money
        description: ''
        required: true
        example: 3
        type: integer
        enumValues: []
        custom: []
    cleanBodyParameters:
      money: 3
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"data":{"id":1,"exemplar_id":7,"due_value":900,"received":3000,"change":2100,"due_from":"2023-09-23 00:07:00","due_at":"2023-09-23 00:08:00","paid_at":"2023-09-23 00:24:55","message":"Payment received. Thank you!"}}'
        headers: []
        description: ''
        custom: []
      -
        status: 403
        content: '{"errors": "It is not allowed to pay for someone else''s invoices."}'
        headers: []
        description: "Can't pay for someone elses'."
        custom: []
      -
        status: 404
        content: '{"errors": [list]}'
        headers: []
        description: 'Payment not found.'
        custom: []
      -
        status: 422
        content: '{"errors": "Already paid."}'
        headers: []
        description: 'Already paid.'
        custom: []
      -
        status: 422
        content: '{"errors": [list]}'
        headers: []
        description: 'Validation Errors. (Includes underpayment attempt.)'
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 1h66ab3EV5cdZvakfDe4gP8'
    controller: null
    method: null
    route: null
    custom: []
